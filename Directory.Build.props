<?xml version="1.0" encoding="utf-8"?>
<Project>

    <!-- Directories -->

  <PropertyGroup>
    <FasciculusRootDirectory>$(MSBuildThisFileDirectory)</FasciculusRootDirectory>
    <FasciculusRepositoryDirectory>$([System.IO.Path]::Combine($(FasciculusRootDirectory), '.repository'))</FasciculusRepositoryDirectory>
    <FasciculusPackagesDirectory>$([System.IO.Path]::Combine($(FasciculusRepositoryDirectory), 'packages'))</FasciculusPackagesDirectory>
    <FasciculusModulesDirectory>$([System.IO.Path]::Combine($(FasciculusRepositoryDirectory), 'node_modules'))</FasciculusModulesDirectory>
   <FasciculusInstalledPackagesDirectory>$([System.IO.Path]::Combine($(FasciculusPackagesDirectory), 'installed'))</FasciculusInstalledPackagesDirectory>
  </PropertyGroup>
  
  <!-- Compiler Settings -->

  <PropertyGroup>
    <LangVersion>preview</LangVersion>
    <Nullable>enable</Nullable>
    <ImplicitUsings>disable</ImplicitUsings>
    <NoWarn>$(NoWarn),IDE0290,IDE0130</NoWarn>
    <WarningsAsErrors>$(WarningsAsErrors),MVVMTK0045</WarningsAsErrors>
  </PropertyGroup>
  
  <!-- Package Settings -->

  <PropertyGroup>
    <VersionPrefix>0.1.1</VersionPrefix>
    <VersionSuffix>dev.1</VersionSuffix>
    <Version Condition="$(VersionSuffix) == ''">$(VersionPrefix)</Version>
    <Version Condition="$(VersionSuffix) != ''">$(VersionPrefix)-$(VersionSuffix)</Version>
    <Company>The Fasciculus Project</Company>
    <Copyright>The Fasciculus Project</Copyright>
  </PropertyGroup>

  <PropertyGroup>
    <_FasciculusDotNetVersionMajor Condition="'$(_FasciculusDotNetVersionMajor)' == ''">9</_FasciculusDotNetVersionMajor>
    <_FasciculusDotNetVersionMinor Condition="'$(_FasciculusDotNetVersionMinor)' == ''">0</_FasciculusDotNetVersionMinor>
    <_FasciculusDotNetVersion Condition="'$(_FasciculusDotNetVersion)' == ''">$(_FasciculusDotNetVersionMajor).$(_FasciculusDotNetVersionMinor)</_FasciculusDotNetVersion>
    <_FasciculusDotNetTfm Condition="'$(_FasciculusDotNetTfm)' == ''">net$(_FasciculusDotNetVersion)</_FasciculusDotNetTfm>
  </PropertyGroup>

  <PropertyGroup>
    <_FasciculusTargetPlatformIdentifier>$([MSBuild]::GetTargetPlatformIdentifier('$(TargetFramework)'))</_FasciculusTargetPlatformIdentifier>
    <_FasciculusTargetPlatformIsWindows>false</_FasciculusTargetPlatformIsWindows>
    <_FasciculusTargetPlatformIsWindows Condition="$(_FasciculusTargetPlatformIdentifier.Contains('windows')) == 'True'">True</_FasciculusTargetPlatformIsWindows>
  </PropertyGroup>

  <PropertyGroup>
    <DefineConstants Condition="'$(_FasciculusTargetPlatformIsWindows)' == 'True'">$(DefineConstants);WINDOWS</DefineConstants>
  </PropertyGroup>

  <PropertyGroup Condition="'$(_FasciculusTargetPlatformIsWindows)' == 'True'">
    <WindowsSdkPackageVersion>10.0.19041.44</WindowsSdkPackageVersion>
  </PropertyGroup>

  <PropertyGroup>
    <WindowsTargetFrameworkVersion>10.0.19041.0</WindowsTargetFrameworkVersion>
  </PropertyGroup>

  <PropertyGroup>
    <IncludeWindowsTargetFrameworks Condition="$([MSBuild]::IsOSPlatform('windows'))">true</IncludeWindowsTargetFrameworks>
  </PropertyGroup>

  <PropertyGroup>
    <FasciculusWindowsPlatforms Condition="'$(FasciculusWindowsPlatforms)' == ''">net$(_FasciculusDotNetVersion)-windows$(WindowsTargetFrameworkVersion)</FasciculusWindowsPlatforms>
    <FasciculusPlatforms Condition="'$(IncludeWindowsTargetFrameworks)' == 'true'">$(FasciculusWindowsPlatforms);$(FasciculusPlatforms)</FasciculusPlatforms>
  </PropertyGroup>
  
</Project>
